(this.webpackJsonpreactjs=this.webpackJsonpreactjs||[]).push([[0],{13:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(7),o=n.n(r),i=(n(13),n(3)),s=n.n(i),l=n(4),u=n(2),f=n(8),j=n.n(f),b=(n(15),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);function d(t){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(s.a.mark((function t(e){var n,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(window.location.protocol,"//worldtimeapi.org/api/timezone/").concat(e)).then((function(t){return t.json()}));case 2:return n=t.sent,a=n.datetime,c=a.search(/(-|\+)\d{2}:\d{2}/),t.abrupt("return",new Date(a.substring(0,c)));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return t.toString().padStart(2,"0")}function O(t,e){var n=Object(a.useState)(),c=Object(u.a)(n,2),r=c[0],o=c[1];return Object(a.useEffect)((function(){if(t){var e=t.watch((function(t){var e=t.data;e&&o(e)}));return function(){e.unwatch()}}}),[t]),Object(a.useEffect)((function(){if(!e){var t=setInterval((function(){o((function(t){return t?new Date(t.getTime()+1e3):void 0}))}),1e3);return function(){return clearInterval(t)}}}),[e]),r}var v=n(5),g=n.n(v),x=n(1);function m(t){var e=t.observable,n=t.fromApi,c=Object(a.useState)(""),r=Object(u.a)(c,2),o=r[0],i=r[1],s=Object(a.useState)(""),l=Object(u.a)(s,2),f=l[0],j=l[1],d=O(e,n);return Object(a.useEffect)((function(){d&&(j("".concat(d.getDate()," ").concat(b[d.getMonth()],", ").concat(d.getFullYear())),i("".concat(p(d.getHours()),":").concat(p(d.getMinutes()),":").concat(p(d.getSeconds()))))}),[d]),Object(x.jsxs)("div",{className:g.a.clockFace,children:[Object(x.jsx)("span",{className:g.a.time,children:o}),Object(x.jsx)("span",{className:g.a.date,children:f})]})}function S(t,e,n,a){t.beginPath(),t.lineWidth=a,t.lineCap="round",t.moveTo(0,0),t.rotate(e),t.lineTo(0,-n),t.stroke(),t.rotate(-e)}function k(t){var e=O(t.observable,t.fromApi),n=Object(a.useState)(),c=Object(u.a)(n,2),r=c[0],o=c[1],i=Object(a.useState)(),s=Object(u.a)(i,2),l=s[0],f=s[1],j=Object(a.useRef)();return Object(a.useEffect)((function(){var t=j.current,e=t.getContext("2d"),n=t.height/2;e.translate(n,n);var a=.9*n;o(e),f(a)}),[j]),Object(a.useEffect)((function(){e&&r&&l&&(function(t,e){t.beginPath(),t.arc(0,0,e,0,2*Math.PI),t.fillStyle="white",t.fill();var n=t.createRadialGradient(0,0,.95*e,0,0,1.05*e);n.addColorStop(0,"#333"),n.addColorStop(.5,"white"),n.addColorStop(1,"#333"),t.strokeStyle=n,t.lineWidth=.1*e,t.stroke(),t.beginPath(),t.arc(0,0,.1*e,0,2*Math.PI),t.fillStyle="#333",t.fill()}(r,l),function(t,e){t.font=.15*e+"px arial",t.textBaseline="middle",t.textAlign="center";for(var n=1;n<13;n++){var a=n*Math.PI/6;t.rotate(a),t.translate(0,.85*-e),t.rotate(-a),t.fillText(n.toString(),0,0),t.rotate(a),t.translate(0,.85*e),t.rotate(-a)}}(r,l),function(t,e,n){var a=t.getHours(),c=t.getMinutes(),r=t.getSeconds(),o=a<12?"AM":"PM";S(e,a=(a%=12)*Math.PI/6+c*Math.PI/360+r*Math.PI/21600,.5*n,.07*n),S(e,c=c*Math.PI/30+r*Math.PI/1800,.8*n,.07*n),S(e,r=r*Math.PI/30,.9*n,.02*n),e.font=.15*n+"px arial",e.textBaseline="middle",e.textAlign="center";var i=2*Math.PI;e.rotate(i),e.translate(0,.65*-n),e.rotate(-i),e.fillStyle="#ff0000",e.fillText(o,0,0),e.rotate(i),e.translate(0,.65*n),e.rotate(-i)}(e,r,l),function(t,e,n){var a=t.getDate(),c=b[t.getMonth()],r=t.getFullYear(),o=3*Math.PI/2;e.rotate(o),e.translate(0,.45*-n),e.rotate(-o),e.fillStyle="#0000ff",e.fillText(a+" "+c,0,0),e.rotate(o),e.translate(0,.45*n),e.rotate(-o);var i=Math.PI/2;e.rotate(i),e.translate(0,.45*-n),e.rotate(-i),e.fillStyle="#0000ff",e.fillText(r.toString(),0,0),e.rotate(i),e.translate(0,.45*n),e.rotate(-i)}(e,r,l))}),[e,r,l]),Object(x.jsx)("div",{id:"clock-face-2",children:Object(x.jsx)("canvas",{ref:j,id:"analog-canvas",width:"200",height:"200"})})}var M=function(){var t=Object(a.useState)([]),e=Object(u.a)(t,2),n=e[0],c=e[1],r=Object(a.useState)("Asia/Kolkata"),o=Object(u.a)(r,2),i=o[0],f=o[1],b=Object(a.useState)(!1),h=Object(u.a)(b,2),p=h[0],O=h[1],v=Object(a.useState)(null),g=Object(u.a)(v,2),S=g[0],M=g[1],w=Object(a.useRef)(i);Object(a.useEffect)((function(){w.current=i}),[i]);var P=Object(a.useCallback)((function(){return w.current}),[w]);return Object(a.useEffect)((function(){M(j()(P,d))}),[P]),Object(a.useEffect)((function(){null===S||void 0===S||S.mutate({refreshInterval:p?1e3:0})}),[i,p,S]),Object(a.useEffect)((function(){function t(){return(t=Object(l.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(window.location.protocol,"//worldtimeapi.org/api/timezone")).then((function(t){return t.json()}));case 2:e=t.sent,c(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("header",{className:"App-header",children:Object(x.jsx)("h1",{children:"React Clock App"})}),Object(x.jsxs)("main",{children:[Object(x.jsxs)("div",{className:"picker-container",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{children:"Region:"}),Object(x.jsx)("select",{value:i,onChange:function(t){f(t.target.value)},children:n.map((function(t){return Object(x.jsx)("option",{value:t,children:t},t)}))})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"checkbox",id:"api",checked:p,onChange:function(t){var e=t.target.checked;O(e)}}),Object(x.jsx)("label",{htmlFor:"api",children:"Update only via API"})]})]}),Object(x.jsxs)("div",{className:"clocks",children:[Object(x.jsx)(m,{observable:S,fromApi:p}),Object(x.jsx)(k,{observable:S,fromApi:p})]})]})]})},w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),c(t),r(t),o(t)}))};o.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(M,{})}),document.getElementById("root")),w()},5:function(t,e,n){t.exports={clockFace:"clock1_clockFace__ykejw",time:"clock1_time__12BnR",date:"clock1_date__3ttQe"}}},[[17,1,2]]]);
//# sourceMappingURL=main.9ae7666c.chunk.js.map